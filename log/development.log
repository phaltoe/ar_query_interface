  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.8ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateCarts (20160731110348)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20160731110348"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateCustomers (20160731111400)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "customers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20160731111400"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateLineItems (20160731111440)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "product_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20160731111440"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateProducts (20160731111507)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "price" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20160731111507"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "customers" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Pedro"], ["created_at", "2016-07-31 11:51:51.716816"], ["updated_at", "2016-07-31 11:51:51.716816"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Peter"], ["created_at", "2016-07-31 11:51:51.722138"], ["updated_at", "2016-07-31 11:51:51.722138"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Avi"], ["created_at", "2016-07-31 11:51:51.724467"], ["updated_at", "2016-07-31 11:51:51.724467"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Apple Watch"], ["price", 800], ["created_at", "2016-07-31 11:51:51.733289"], ["updated_at", "2016-07-31 11:51:51.733289"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Macbook"], ["price", 1500], ["created_at", "2016-07-31 11:51:51.736321"], ["updated_at", "2016-07-31 11:51:51.736321"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Iphone"], ["price", 1000], ["created_at", "2016-07-31 11:51:51.738545"], ["updated_at", "2016-07-31 11:51:51.738545"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "carts" ("customer_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["customer_id", 1], ["created_at", "2016-07-31 11:51:51.765537"], ["updated_at", "2016-07-31 11:51:51.765537"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 2], ["cart_id", 1], ["created_at", "2016-07-31 11:51:51.783191"], ["updated_at", "2016-07-31 11:51:51.783191"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "carts" ("customer_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["customer_id", 3], ["created_at", "2016-07-31 11:51:51.786597"], ["updated_at", "2016-07-31 11:51:51.786597"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 3], ["cart_id", 2], ["created_at", "2016-07-31 11:51:51.789739"], ["updated_at", "2016-07-31 11:51:51.789739"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 2], ["created_at", "2016-07-31 11:51:51.792289"], ["updated_at", "2016-07-31 11:51:51.792289"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "carts" ("customer_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["customer_id", 1], ["created_at", "2016-07-31 11:51:51.794712"], ["updated_at", "2016-07-31 11:51:51.794712"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 3], ["cart_id", 3], ["created_at", "2016-07-31 11:51:51.798221"], ["updated_at", "2016-07-31 11:51:51.798221"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m3 (0.3ms)[0m        SELECT SUM(price) AS total_price FROM carts
      INNER JOIN line_items ON line_items.cart_id = carts.id
      INNER JOIN products ON line_items.product_id = products.id
      WHERE cart_id = ?

  [1m[36m (0.3ms)[0m  [1mSELECT SUM("products"."price") FROM "products" INNER JOIN "line_items" ON "products"."id" = "line_items"."product_id" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  [1m[35m (0.3ms)[0m  SELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT "name" FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT "carts".* FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "name"
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36m (0.2ms)[0m  [1mSELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id"[0m
  [1m[35m (0.2ms)[0m  SELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "line_items" ON "line_items"."product_id" = "products"."id" INNER JOIN "carts" ON "carts"."id" = "line_items"."cart_id" GROUP BY "product_id"[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" INNER JOIN "line_items" ON "line_items"."product_id" = "products"."id" INNER JOIN "carts" ON "carts"."id" = "line_items"."cart_id"
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "line_items" ON "line_items"."product_id" = "products"."id" INNER JOIN "carts" ON "carts"."id" = "line_items"."cart_id" GROUP BY "cart_id"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(product_id) AS count_product_id, product_id AS product_id FROM "products" INNER JOIN "line_items" ON "line_items"."product_id" = "products"."id" GROUP BY "product_id"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(product_id) FROM "products" INNER JOIN "line_items" ON "line_items"."product_id" = "products"."id"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(product_id) FROM "products" INNER JOIN "line_items" ON "line_items"."product_id" = "products"."id"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(product_id) AS count_product_id, product_id AS product_id FROM "products" INNER JOIN "line_items" ON "line_items"."product_id" = "products"."id" GROUP BY "product_id"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(product_id) AS count_product_id, product_id AS product_id FROM "products" INNER JOIN "line_items" ON "line_items"."product_id" = "products"."id" GROUP BY "product_id"
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products"."price" FROM "products" GROUP BY "product_id"[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "line_items" ON "line_items"."product_id" = "products"."id" INNER JOIN "carts" ON "carts"."id" = "line_items"."cart_id" WHERE ("carts"."created_at" BETWEEN '2016-06-30 12:55:59.498434' AND '2016-07-31 12:55:59.502661')
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(product_id) AS count_product_id, product_id AS product_id FROM "products" INNER JOIN "line_items" ON "line_items"."product_id" = "products"."id" INNER JOIN "carts" ON "carts"."id" = "line_items"."cart_id" INNER JOIN "line_items" "line_items_products" ON "line_items_products"."product_id" = "products"."id" WHERE ("carts"."created_at" BETWEEN '2016-06-30 12:56:07.046759' AND '2016-07-31 12:56:07.047183') GROUP BY "product_id"[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "line_items" ON "line_items"."product_id" = "products"."id" INNER JOIN "carts" ON "carts"."id" = "line_items"."cart_id" WHERE ("carts"."created_at" BETWEEN '2016-06-30 12:57:01.932893' AND '2016-07-31 12:57:01.933316')
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "line_items" ON "line_items"."product_id" = "products"."id" INNER JOIN "carts" ON "carts"."id" = "line_items"."cart_id" WHERE ("carts"."created_at" BETWEEN '2016-06-30 12:57:15.340689' AND '2016-07-31 12:57:15.341106')[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(product_id) AS count_product_id, product_id AS product_id FROM "products" INNER JOIN "line_items" ON "line_items"."product_id" = "products"."id" INNER JOIN "carts" ON "carts"."id" = "line_items"."cart_id" INNER JOIN "line_items" "line_items_products" ON "line_items_products"."product_id" = "products"."id" WHERE ("carts"."created_at" BETWEEN '2016-06-30 12:57:15.340689' AND '2016-07-31 12:57:15.341106') GROUP BY "product_id"
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(product_id) AS count_product_id, product_id AS product_id FROM "products" INNER JOIN "line_items" ON "line_items"."product_id" = "products"."id" INNER JOIN "carts" ON "carts"."id" = "line_items"."cart_id" INNER JOIN "line_items" "line_items_products" ON "line_items_products"."product_id" = "products"."id" WHERE ("carts"."created_at" BETWEEN '2016-06-30 13:03:05.172091' AND '2016-07-31 13:03:05.172558') GROUP BY "product_id"[0m
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "line_items" ON "line_items"."product_id" = "products"."id" INNER JOIN "carts" ON "carts"."id" = "line_items"."cart_id" INNER JOIN "line_items" "line_items_products_join" ON "line_items_products_join"."product_id" = "products"."id" INNER JOIN "carts" "carts_products_join" ON "carts_products_join"."id" = "line_items_products_join"."cart_id" INNER JOIN "customers" ON "customers"."id" = "carts_products_join"."customer_id" WHERE ("carts"."created_at" BETWEEN '2016-06-30 13:07:00.488567' AND '2016-07-31 13:07:00.489326')[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" INNER JOIN "line_items" ON "line_items"."product_id" = "products"."id" INNER JOIN "carts" ON "carts"."id" = "line_items"."cart_id" INNER JOIN "line_items" "line_items_products_join" ON "line_items_products_join"."product_id" = "products"."id" INNER JOIN "carts" "carts_products_join" ON "carts_products_join"."id" = "line_items_products_join"."cart_id" INNER JOIN "customers" ON "customers"."id" = "carts_products_join"."customer_id" WHERE ("carts"."created_at" BETWEEN '2016-06-30 13:08:05.157237' AND '2016-07-31 13:08:05.157682') AND "customers"."name" = ?  [["name", "Pedro"]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "line_items" ON "line_items"."product_id" = "products"."id" INNER JOIN "carts" ON "carts"."id" = "line_items"."cart_id" INNER JOIN "line_items" "line_items_products_join" ON "line_items_products_join"."product_id" = "products"."id" INNER JOIN "carts" "carts_products_join" ON "carts_products_join"."id" = "line_items_products_join"."cart_id" INNER JOIN "customers" ON "customers"."id" = "carts_products_join"."customer_id" WHERE ("carts"."created_at" BETWEEN '2016-06-30 13:08:28.852922' AND '2016-07-31 13:08:28.853336') AND "customers"."name" = ?[0m  [["name", "Avi"]]
  [1m[35mProduct Load (2.6ms)[0m  SELECT "products".* FROM "products" INNER JOIN "line_items" ON "line_items"."product_id" = "products"."id" INNER JOIN "carts" ON "carts"."id" = "line_items"."cart_id" WHERE ("carts"."created_at" BETWEEN '2016-06-30 16:02:14.472949' AND '2016-07-31 16:02:14.479591')
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "line_items" ON "line_items"."product_id" = "products"."id" INNER JOIN "carts" ON "carts"."id" = "line_items"."cart_id" WHERE ("carts"."created_at" BETWEEN '2016-06-30 16:02:21.093745' AND '2016-07-31 16:02:21.094150') AND ("products"."price" BETWEEN 100 AND 1000)[0m
  [1m[35mCustomer Load (0.3ms)[0m  SELECT "customers".* FROM "customers" INNER JOIN "carts" ON "carts"."customer_id" = "customers"."id" INNER JOIN "carts" "carts_customers_join" ON "carts_customers_join"."customer_id" = "customers"."id" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts_customers_join"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" WHERE "products"."name" = ?  [["name", "Iphone"]]
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers" INNER JOIN "carts" ON "carts"."customer_id" = "customers"."id" INNER JOIN "carts" "carts_customers_join" ON "carts_customers_join"."customer_id" = "customers"."id" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts_customers_join"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" WHERE "products"."name" = ?[0m  [["name", "Iphone"]]
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers" INNER JOIN "carts" ON "carts"."customer_id" = "customers"."id" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" WHERE "products"."name" = 'Iphone'
  [1m[36mCustomer Load (2.0ms)[0m  [1mSELECT "customers".* FROM "customers"[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "line_items" ON "products"."id" = "line_items"."product_id" INNER JOIN "carts" ON "line_items"."cart_id" = "carts"."id" WHERE "carts"."customer_id" = ?  [["customer_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "line_items" ON "products"."id" = "line_items"."product_id" INNER JOIN "carts" ON "line_items"."cart_id" = "carts"."id" WHERE "carts"."customer_id" = ?[0m  [["customer_id", 2]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "line_items" ON "products"."id" = "line_items"."product_id" INNER JOIN "carts" ON "line_items"."cart_id" = "carts"."id" WHERE "carts"."customer_id" = ?  [["customer_id", 3]]
  [1m[36mCustomer Load (0.4ms)[0m  [1mSELECT "customers".* FROM "customers"[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "line_items" ON "products"."id" = "line_items"."product_id" INNER JOIN "carts" ON "line_items"."cart_id" = "carts"."id" WHERE "carts"."customer_id" = ?  [["customer_id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "line_items" ON "products"."id" = "line_items"."product_id" INNER JOIN "carts" ON "line_items"."cart_id" = "carts"."id" WHERE "carts"."customer_id" = ?[0m  [["customer_id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" INNER JOIN "line_items" ON "products"."id" = "line_items"."product_id" INNER JOIN "carts" ON "line_items"."cart_id" = "carts"."id" WHERE "carts"."customer_id" = ?  [["customer_id", 3]]
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT "customers".* FROM "customers"[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."customer_id" IN (1, 2, 3)
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" IN (1, 3, 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" IN (2, 3, 1)
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddTotalPriceToCarts (20160731212220)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "carts" ADD "total_price" integer[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20160731212220"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mProduct Load (2.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE (name LIKE 'I')[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE (name LIKE 'I%')
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE (name LIKE 'R%')[0m
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id"[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT "carts".* FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36mCart Load (0.8ms)[0m  [1mSELECT cart_id, SUM(price) AS total_price FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" GROUP BY line_items.cart_id[0m
  [1m[35mCart Load (0.7ms)[0m  SELECT cart_id, SUM(price) AS total_price FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" GROUP BY line_items.cart_id
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT cart_id, SUM(:price) AS total_price FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" GROUP BY line_items.cart_id[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(:price AS total_price) AS sum_price_as_total_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36m (0.2ms)[0m  [1mSELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35m (0.2ms)[0m  SELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(products.price) AS sum_products_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" GROUP BY "cart_id"[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT carts.*)
 FROM "carts"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT carts.* FROM "carts"
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT carts.*, SUM(products.price) FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id"[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT carts.*, SUM(products.price) FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT carts.*, SUM(products.price) FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"  ORDER BY total_price DESC[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  carts.*, SUM(products.price) FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"  ORDER BY total_price DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT SUM(price) FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id"[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT "carts".* FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35mCart Load (0.6ms)[0m  SELECT SUM(products.price FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id"
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36m (0.2ms)[0m  [1mSELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35m (0.3ms)[0m  SELECT cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id"
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35m (0.2ms)[0m  SELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36m (0.2ms)[0m  [1mSELECT MAX(price) AS maximum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35m (0.6ms)[0m  SELECT MAX(cart) AS maximum_cart, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36m (0.4ms)[0m  [1mSELECT MAX(price) AS maximum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT "carts".* FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36m (0.3ms)[0m  [1mSELECT MIN(price) AS minimum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35m (0.3ms)[0m  SELECT MIN(price) AS minimum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35mCart Load (0.6ms)[0m  SELECT "carts".* FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"  ORDER BY "carts"."price" ASC
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT "carts".* FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"  ORDER BY carts.price[0m
  [1m[35mCart Load (0.6ms)[0m  SELECT "carts".* FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"  ORDER BY "carts"."cart_id" ASC
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT "carts".* FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"[0m
  [1m[35mCart Load (0.6ms)[0m  SELECT "carts".* FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"  ORDER BY "carts"."price" ASC
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT "carts".* FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"  ORDER BY products.price[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"  ORDER BY products.price
  [1m[36m (0.2ms)[0m  [1mSELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"  ORDER BY products.price[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"  ORDER BY products.price
  [1m[36m (0.2ms)[0m  [1mSELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"  ORDER BY products.price[0m
  [1m[35m (0.2ms)[0m  SELECT SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"  ORDER BY products.price
  [1m[36m (0.3ms)[0m  [1mSELECT  SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"  ORDER BY products.price LIMIT 1[0m
  [1m[35mCart Load (0.5ms)[0m  SELECT cart_id, SUM(price) AS total_price FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" GROUP BY line_items.cart_id
  [1m[36m (0.3ms)[0m  [1mSELECT  SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"  ORDER BY products.price LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT  SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"  ORDER BY products.price LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT  SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"  ORDER BY products.price LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT  SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"  ORDER BY products.price LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT  SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"  ORDER BY products.price LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT  SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"  ORDER BY products.price LIMIT 1
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" ASC LIMIT 1[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  "carts".* FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"  ORDER BY products.price LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT  SUM(price) AS sum_price, cart_id AS cart_id FROM "carts" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" GROUP BY "cart_id"  ORDER BY products.price LIMIT 1[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" ASC LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "line_items" ON "products"."id" = "line_items"."product_id" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  [1m[35m (0.3ms)[0m  SELECT SUM("products"."price") FROM "products" INNER JOIN "line_items" ON "products"."id" = "line_items"."product_id" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT SUM("products"."price") FROM "products" INNER JOIN "line_items" ON "products"."id" = "line_items"."product_id" WHERE "line_items"."cart_id" = ?  [["cart_id", 3]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  ORDER BY "carts"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT SUM("products"."price") FROM "products" INNER JOIN "line_items" ON "products"."id" = "line_items"."product_id" WHERE "line_items"."cart_id" = ?  [["cart_id", 1]]
  [1m[36mCustomer Load (0.6ms)[0m  [1mSELECT "customers".* FROM "customers" INNER JOIN "carts" ON "carts"."customer_id" = "customers"."id" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" WHERE "products"."name" = ?[0m  [["name", "Iphone"]]
  [1m[35mCustomer Load (0.3ms)[0m  SELECT "customers".* FROM "customers" INNER JOIN "carts" ON "carts"."customer_id" = "customers"."id" INNER JOIN "line_items" ON "line_items"."cart_id" = "carts"."id" INNER JOIN "products" ON "products"."id" = "line_items"."product_id" WHERE "products"."name" = ?  [["name", "Iphone"]]
